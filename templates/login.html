{% extends 'base.html' %}
{% block title %}Login - TalkToText Pro{% endblock %}

{% block content %}
<div class="auth-container">
  <div class="auth-wrapper">
    <!-- Branding -->
    <div class="auth-branding">
      <div class="brand-content">
        <div class="brand-logo"><i class="fas fa-microphone-alt"></i></div>
        <h1 class="brand-title">TalkToText Pro</h1>
        <p class="brand-subtitle">Transform your audio into intelligent meeting notes with AI-powered transcription and analysis.</p>
        <div class="brand-features">
          <div class="feature-item"><i class="fas fa-check-circle"></i><span>AI-Powered Transcription</span></div>
          <div class="feature-item"><i class="fas fa-check-circle"></i><span>Multi-Language Support</span></div>
          <div class="feature-item"><i class="fas fa-check-circle"></i><span>Smart Meeting Notes</span></div>
        </div>
      </div>
    </div>

    <!-- Form -->
    <div class="auth-form-container">
      <div class="auth-form-card">
        <div class="form-header">
          <h2 class="form-title">Welcome Back</h2>
          <p class="form-subtitle">Sign in to continue to your account</p>
        </div>

        <form method="POST" class="auth-form needs-validation" novalidate>
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

          <div class="form-group">
            <label for="username" class="form-label"><i class="fas fa-user"></i> Username</label>
            <input type="text" class="form-control" id="username" name="username" placeholder="Enter your username" required>
            <div class="invalid-feedback">Please provide a valid username.</div>
          </div>

          <div class="form-group">
            <label for="password" class="form-label"><i class="fas fa-lock"></i> Password</label>
            <div class="password-input-group">
              <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required>
              <button class="password-toggle" type="button" id="togglePassword"><i class="fas fa-eye"></i></button>
            </div>
            <div class="invalid-feedback">Please provide a valid password.</div>
          </div>

          <div class="form-options"><a href="#" class="forgot-password">Forgot password?</a></div>

          <button type="submit" class="auth-submit-btn"><span class="btn-text">Sign In</span><i class="fas fa-arrow-right"></i></button>
        </form>

        <div class="form-footer">
          <p class="signup-text">
            Don't have an account?
            <a href="{{ url_for('register') }}" class="signup-link">Create one here</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.getElementById('togglePassword').addEventListener('click', function() {
  const f = document.getElementById('password'), i = this.querySelector('i');
  if (f.type === 'password') { f.type = 'text'; i.classList.replace('fa-eye', 'fa-eye-slash'); }
  else { f.type = 'password'; i.classList.replace('fa-eye-slash', 'fa-eye'); }
});
(function() {
  'use strict';
  window.addEventListener('load', function() {
    Array.from(document.getElementsByClassName('needs-validation')).forEach(function(form) {
      form.addEventListener('submit', function(e) {
        if (form.checkValidity() === false) { e.preventDefault(); e.stopPropagation(); }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>
{% endblock %}
